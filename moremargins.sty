%%%
%%% moremargins.sty -- Margin-related settings
%%%

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{moremargins}
[2018/04/30 All margin- and sidenote-related settings for the argon class]

% Make a new length equal to the ideal width of a line
\newlength{\commonline}
\settowidth{\commonline}{\normalfont Due to the lifestyle the Mongols led, they lacked an abundance of r}

% Set width of typeblock in accordance with the ideal width
\settypeblocksize{*}{\commonline}{2}

% Traditional vertical margin ratio
\setulmargins{*}{*}{2}

% If sidenotes are enabled ...
\ifthenelse{\boolean{@argon@sidenotes}}{%
  % Use a more extreme horizontal margin ratio ...
  \setlrmargins{*}{*}{3}

  % Set up the space the sidenotes will occupy ...
  \setmarginnotes{2pc}{12pc}{\baselineskip}

  % And set all the sidenotes settings
  \RequirePackage{moresidenotes}

  % If not using sidenotes ...
}{

  % If using a twoside layout ...
  \ifthenelse{\boolean{@argon@twoside}}{%
    % Use asymmetrical margins
    \setlrmargins{*}{*}{2}

    % If not using twoside layout ...
  }{
    % Use symmetrical margins
    \setlrmargins{*}{*}{1}
  }

  % Place all figures inline with the text
  \newcommand{\myfig}[2]{
    \begin{figure}[ht]
      \centering
      \includegraphics[width=\linewidth]{#1}
      \caption*{#2}
    \end{figure}
  }
}

% Set margins
\checkandfixthelayout

